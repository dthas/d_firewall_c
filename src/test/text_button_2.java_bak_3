package txt_button;

import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.*;

import java.io.File;
import java.io.FileOutputStream;
import java.io.*;
import java.io.RandomAccessFile;

public class text_button_2
{
	public static void main(String[] args)
	{
		main_pl p2 = new main_pl();
	}
}

class main_pl extends JFrame implements ActionListener
{
	private JButton butt_firewall_open 	= new JButton("open");
	private JButton butt_firewall_close 	= new JButton("close");

	private JButton butt_in_main	 	= new JButton("rules in");
	private JButton butt_out_main 		= new JButton("rules out");

	private JButton butt_backtostart 	= new JButton("start page");

	private	JFrame frame 		= new JFrame();

	private JPanel p_main_head	= new JPanel();
	private JPanel p_main_body	= new JPanel();
	private JPanel p_main_bottom	= new JPanel();

	//public	String str_txt;

	public main_pl()
	{
		frame.setLayout(new FlowLayout());

		//butt_firewall_open.setBounds(0,0,50,30);
		//butt_firewall_close.setBounds(100,0,50,30);
		//butt_in_main.setBounds(0,0,50,30);
		//butt_out_main.setBounds(100,0,50,30);
		//butt_backtostart.setBounds(0,0,50,30);

		butt_firewall_open.setPreferredSize(new Dimension(100,0));
		butt_firewall_close.setPreferredSize(new Dimension(100,0));
		butt_in_main.setPreferredSize(new Dimension(100,0));
		butt_out_main.setPreferredSize(new Dimension(100,0));
		butt_backtostart.setPreferredSize(new Dimension(100,0));

		//butt_firewall_open.setBounds(new Rectangle(20,0,150,50));
		//butt_firewall_close.setBounds(new Rectangle(200,0,150,50));
		p_main_head.setPreferredSize(new Dimension(400,50));
		p_main_body.setPreferredSize(new Dimension(400,400));
		p_main_bottom.setPreferredSize(new Dimension(400,50));

		p_main_head.add(butt_firewall_open);
		p_main_head.add(Box.createRigidArea(new Dimension(15, 15)));		//分隔
		p_main_head.add(butt_firewall_close);		
		p_main_head.setVisible(true);		
		p_main_head.setLayout(new BoxLayout(p_main_head, BoxLayout.X_AXIS));
		p_main_head.setBackground(Color.yellow);
		p_main_head.setBorder(BorderFactory.createEmptyBorder(0, 30, 0, 0));


		//butt_in_main.setBounds(new Rectangle(0,0,150,50));
		//butt_out_main.setBounds(new Rectangle(100,0,150,50));
		p_main_body.add(butt_in_main);
		p_main_body.add(Box.createRigidArea(new Dimension(15, 15)));		//分隔
		p_main_body.add(butt_out_main);
		p_main_body.setVisible(true);		
		p_main_body.setLayout(new BoxLayout(p_main_body, BoxLayout.X_AXIS));
		p_main_body.setBorder(BorderFactory.createEmptyBorder(0, 30, 0, 0));
		

		//butt_backtostart.setBounds(new Rectangle(0,0,150,50));
		p_main_bottom.add(butt_backtostart);
		p_main_bottom.setVisible(true);		
		//p_main_bottom.setLayout(new FlowLayout());
		p_main_bottom.setLayout(new BoxLayout(p_main_bottom, BoxLayout.X_AXIS)); 
		p_main_bottom.setBackground(Color.yellow);
		p_main_bottom.setBorder(BorderFactory.createEmptyBorder(0, 30, 0, 0));


		

		//p_main_head.setLocation(400,100);
		//p_main_body.setLocation(400,400);
		//p_main_bottom.setLocation(400,100);

		

		butt_firewall_open.addActionListener(this);
		butt_firewall_close.addActionListener(this);
		butt_in_main.addActionListener(this);
		butt_out_main.addActionListener(this);
		butt_backtostart.addActionListener(this);
		butt_firewall_open.setActionCommand("butt_firewall_open");
		butt_firewall_close.setActionCommand("butt_firewall_close");
		butt_in_main.setActionCommand("butt_in_main");
		butt_out_main.setActionCommand("butt_out_main");
		butt_backtostart.setActionCommand("butt_backtostart");


		frame.add(p_main_head);
		frame.add(p_main_body);
		frame.add(p_main_bottom);		

		frame.setTitle("dfirewall");
		frame.setSize(400,600);
		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		frame.setLocationRelativeTo(null);
		frame.setVisible(true);

		//str_txt		= txt_port.getText();
	}

	public void actionPerformed(ActionEvent e)
	{
		if(e.getActionCommand().equals("butt_firewall_open"))
		{
			
		}
		else if(e.getActionCommand().equals("butt_firewall_close"))
		{
			
		}
		else if(e.getActionCommand().equals("butt_in_main"))
		{
			in_pl p2 = new in_pl();
		}
		else if(e.getActionCommand().equals("butt_out_main"))
		{
			
		}
		else if(e.getActionCommand().equals("butt_backtostart"))
		{
			
		}
	}	
}




class in_pl extends JFrame implements ActionListener
{
	private JButton butt_backtostart 	= new JButton("start page");

	private JButton butt_in_stop_port	= new JButton("stop");
	private JButton butt_in_start_port	= new JButton("start");

	public JTextField txt_in_stop_port	= new JTextField(10);
	public JTextField txt_in_start_port	= new JTextField(10);
	
	private	JFrame frame 		= new JFrame();

	private JPanel p_main_body	= new JPanel();
	private JPanel p_main_bottom	= new JPanel();

	//public	String str_txt;

	public in_pl()
	{
		//为按钮添加监听器
		//butt_in_stop_port.addActionListener(this);
	
		frame.setLayout(new FlowLayout());

		p_main_body.add(txt_in_stop_port);
		p_main_body.add(butt_in_stop_port);
		p_main_body.add(txt_in_start_port);
		p_main_body.add(butt_in_start_port);
		p_main_body.setVisible(true);		
		p_main_body.setLayout(new FlowLayout());

		p_main_bottom.add(butt_backtostart);
		p_main_bottom.setVisible(true);		
		p_main_bottom.setLayout(new FlowLayout());

		frame.add(p_main_body);
		frame.add(p_main_bottom);

		txt_in_stop_port.addActionListener(this);
		butt_in_stop_port.addActionListener(this);
		txt_in_start_port.addActionListener(this);
		butt_in_start_port.addActionListener(this);
		butt_backtostart.addActionListener(this);
		txt_in_stop_port.setActionCommand("txt_in_stop_port");
		butt_in_stop_port.setActionCommand("butt_in_stop_port");
		txt_in_start_port.setActionCommand("txt_in_start_port");
		butt_in_start_port.setActionCommand("butt_in_start_port");
		butt_backtostart.setActionCommand("butt_backtostart");

		frame.setTitle("Rules in:");
		frame.setSize(400,600);
		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		frame.setLocationRelativeTo(null);
		frame.setVisible(true);

		//str_txt		= txt_port.getText();
	}


	public void actionPerformed(ActionEvent e)
	{
		if(e.getActionCommand().equals("txt_in_stop_port"))
		{
			
		}
		else if(e.getActionCommand().equals("butt_in_stop_port"))
		{
			try
			{
				RandomAccessFile randomFile = new RandomAccessFile("txt_in_stop_port.txt", "rw");
				long fileLength = randomFile.length();
				randomFile.seek(fileLength);
				randomFile.writeBytes(txt_in_stop_port.getText());
				randomFile.close();
			}
			catch(Exception ee)
			{}
		}
		else if(e.getActionCommand().equals("txt_in_start_port"))
		{
			
		}
		else if(e.getActionCommand().equals("butt_in_start_port"))
		{
			try
			{
				RandomAccessFile randomFile = new RandomAccessFile("txt_in_start_port.txt", "rw");
				long fileLength = randomFile.length();
				randomFile.seek(fileLength);
				randomFile.writeBytes(txt_in_start_port.getText());
				randomFile.close();
			}
			catch(Exception ee)
			{}
		}
		else if(e.getActionCommand().equals("butt_backtostart"))
		{
			main_pl p2 = new main_pl();
		}
	}	
	
}
